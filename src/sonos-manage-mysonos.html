<!-- Sonos Manage My Sonos Node -->

<!-- Registering Node -->
<script type="text/javascript">
/* global  RED */
/* eslint no-undef: "error" */
RED.nodes.registerType('sonos-manage-mysonos', {
  category: 'SonosPlus',
  defaults: {
    confignode: {
      value: '',
      type: 'sonos-config'
    },
    name: {
      value: ''
    }
  },
  inputs: 1, // set the number of inputs - only 0 or 1
  outputs: 1, // set the number of outputs - 0 to n
  icon: 'sonos.png', // saved in  icons/myicon.png
  color: '#95c292',
  label: function () {
    return this.name || 'Manage My Sonos';
  },
  paletteLabel: 'My Sonos'
});
</script>

<!-- Setting design and inputs for node -->
<script type="text/x-red" data-template-name="sonos-manage-mysonos">

  <div class="form-row">
        <label for="node-input-confignode"> Config Node</label>
        <input type="text" id="node-input-confignode"/>
  </div>

	<div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="This Node Name"/>
  </div>

</script>


<!-- Help Text -->
<script type="text/x-red" data-help-name="sonos-manage-mysonos">
  <p>Incoming message is being converted to valid command and send to SONOS player.
    The <b>get</b> provides information about the My Sonos.</p>

  <h3>Input (required)</h3>

  <dl class="message-properties">

      <dt>payload (always required) <span class="property-type">string</span>  </dt>
      <dd>A command. Valid commands see Details.</dd>

      <dt>topic <span class="property-type">string</span> </dt>
      <dd>Parameter - part of the My Sonos title. CASE SENSITIVE!</dd>

  </dl>

  <h3>Outputs</h3>

  <dl class="message-properties">
      <dt>payload
          <span class="property-type">string</span>
      </dt>
      <dd>title of items from my Sonos or in case of <b>get_mysonos</b> the array of itmes.</dd>
  </dl>

  <h3>Details</h3>

  Accepted values for <code>payload</code> are:
  <ul>
  <li><b>queue</b> queue the found item (Playlist, Album, Track) to SONOS queue. msg.topic is title search string - case sensitive</li>
  <li><b>stream</b> stream the found item (stream, radio). msg.topic is title search string - case sensitive</li>
  <li><b>get_items</b> Outputs the array of all My Sonos items</li>
  </ul>
</script>
