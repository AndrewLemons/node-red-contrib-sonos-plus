<!-- Sonos Manage Radio Node -->

<!-- Registering Node -->
<script type="text/javascript">
  /* global  RED */
  /* eslint no-undef: "error" */
  RED.nodes.registerType('sonos-manage-radio', {
    category: 'SonosPlus',
    defaults: {
      confignode: {
        value: '',
        type: 'sonos-config'
      },
      name: {
        value: ''
      }
    },
    inputs: 1, // set the number of inputs - only 0 or 1
    outputs: 1, // set the number of outputs - 0 to n
    icon: 'sonos.png', // saved in  icons/myicon.png
    color: '#edb88a',
    label: function() {
      return this.name || 'Manage Radio';
    },
    paletteLabel: 'Mng Radio'
  });
</script>

<!-- Setting design and inputs for node -->
<script type="text/x-red" data-template-name="sonos-manage-radio">

   <div class="form-row">
         <label for="node-input-confignode"> Config Node</label>
         <input type="text" id="node-input-confignode"/>
   </div>

  <div class="form-row">
         <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
         <input type="text" id="node-input-name" placeholder="This Node Name"/>
   </div>
</script>

<!-- Help Text -->
<script type="text/x-red" data-help-name="sonos-manage-radio">
  <p>Incoming message is being converted to valid command and send to SONOS player.
    The <b>get</b> provides information about the My Sonos radio stations.</p>

  <h3>Input (required)</h3>

  <dl class="message-properties">

      <dt>payload (always required) <span class="property-type">string</span>  </dt>
      <dd>A command. Valid commands see Details.</dd>

      <dt>topic <span class="property-type">string</span> </dt>
      <dd>Parameter - either the TuneIn radio id or a part of the My Sonos radio station title.</dd>

      <dt>volume <span class="property-type">string</span> </dt>
      <dd>Volume beeing used together with <b>play_mysonos, play_tunein, play_httpradio</b></dd>

  </dl>

  <h3>Outputs</h3>

  <dl class="message-properties">
      <dt>payload
          <span class="property-type">string</span>
      </dt>
      <dd>title of station from my Sonos or in case of <b>get_mysonos</b> the array of radios stations.</dd>
  </dl>

  <h3>Details</h3>

  Accepted values for <code>payload</code> are:
  <ul>
  <li><b>play_tunein</b> and as topic the TuneIn radio id (eg s12345)</li>
  <li><b>play_httpradio</b> and as topic the http string</li>
  </ul>
</script>
