<!-- Sonos Universal Node -->

<!-- Registering Node (JavaScript) -->
<script type="text/javascript">
  /* global  RED */
  /* eslint no-undef: "error" */
  RED.nodes.registerType('sonos-universal', {
    category: 'SonosPlus',
    defaults: {
      confignode: {
        value: '',
        type: 'sonos-config'
      },
      name: {
        value: ''
      }
    },
    inputs: 1, // set the number of inputs - only 0 or 1
    outputs: 1, // set the number of outputs - 0 to n
    icon: 'sonos.png', // saved in  icons/myicon.png
    color: '#777777',
    label: function() {
      return this.name || 'Universal';
    },
    paletteLabel: 'Universal'
  });
</script>

<!-- Setting design and inputs for node panel (HTML)-->
<script type="text/x-red" data-template-name="sonos-universal">
  <div id="main-props">
    <div class="form-row">
      <label for="node-input-confignode"> Config Node</label>
      <input type="text" id="node-input-confignode"/>
    </div>
    <!-- Node name-->
    <div class="form-row">
      <label for="node-input-name">
        <i class="fa fa-tag"></i> Name
      </label>
      <input type="text" id="node-input-name" placeholder="This Node Name"/>
    </div>
    <!-- Explanation-->
    <div class="text">
      Please ensure, that the configNode has a valid serial number AND a valid ip address. The ip address should be static/permanent. </br>
      The corresponding SONOS player is being used as default and can be overwritten with msg.playerName.  
    </div>
  </div>
</script>

<!-- Help text (HTML) -->
<script type="text/x-red" data-help-name="sonos-universal">
<p>Incoming message is being converted to valid command and send to SONOS player. The
    <b>get</b> will output data.
</p>

<h1>Input (required)</h3>

<dl class="message-properties">

  <dt>payload (always required) <span class="property-type">string</span></dt>
  <dd>A command. Valid commands see Details.</dd>

  <dt class="optional">topic <span class="property-type">string</span></dt>
  <dd>Parameter</dd>

  <dt class="optional">playerName <span class="property-type">string</span></dt>
  <dd>Player name.</dd>

</dl>

<h1>Outputs</h3>

<dl class="message-properties">
    <dt>payload <span class="property-type">string</span> </dt>
    <dd>In case of <b>get_item</b> the uri, metadata, queue/stream data of that item.</dd>
</dl>

<h1>Details</h3> Accepted values for

<code>payload</code> are:

<ul>
    <li>
        <b>notify_1player</b> Sends a notification to a player (not coordinator in group)
    </li>
</ul>
  
</script>
